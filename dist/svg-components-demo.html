<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FogSift UI | Vector Component Library</title>
    <meta name="description" content="Interactive SVG component sandbox â€” liquid physics, rotary encoders, animation timelines, and telemetry visualizations.">
    <link rel="icon" href="favicon.png" type="image/png">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Jost:wght@400;500;700;900&display=swap');

        :root {
            /* Brand Tokens */
            --fs-cream: #F4EAE0;
            --fs-brown: #3B2516;
            --fs-orange: #E38D4F;
            --fs-teal: #0d9488;

            /* Elevation & Layout */
            --shadow-sm: 0 4px 12px rgba(59, 37, 22, 0.06);
            --shadow-md: 0 12px 32px rgba(59, 37, 22, 0.1);
            --radius-lg: 20px;
            --transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        body {
            font-family: 'Jost', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--fs-cream);
            color: var(--fs-brown);
            display: flex;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
        }

        /* Sidebar Architecture */
        .sidebar {
            width: 280px;
            background-color: var(--fs-brown);
            color: var(--fs-cream);
            padding: 40px 30px;
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
            position: fixed;
            height: 100vh;
            z-index: 10;
        }

        .brand-logo {
            font-size: 1.8rem;
            font-weight: 900;
            margin-bottom: 60px;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .nav-items {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-items li {
            margin-bottom: 24px;
            font-size: 1.1rem;
            font-weight: 500;
            opacity: 0.6;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .nav-items li:hover, .nav-items li.active {
            opacity: 1;
            color: var(--fs-orange);
            font-weight: 700;
        }

        /* Main Workspace & Routing */
        .workspace {
            flex: 1;
            margin-left: 280px;
            padding: 60px;
            box-sizing: border-box;
            background-color: #fdfcfb;
            min-height: 100vh;
        }

        .view-section {
            display: none;
            animation: fadeIn 0.4s ease-out forwards;
        }

        .view-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        header {
            margin-bottom: 60px;
            max-width: 800px;
        }

        header h1 {
            font-size: 3rem;
            margin: 0 0 12px 0;
            font-weight: 900;
            letter-spacing: -1px;
        }

        header p {
            font-size: 1.25rem;
            margin: 0;
            opacity: 0.7;
            font-weight: 500;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
            gap: 32px;
        }

        .card {
            background-color: #fff;
            border-radius: var(--radius-lg);
            padding: 32px;
            box-shadow: var(--shadow-sm);
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(59, 37, 22, 0.04);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-4px);
        }

        .card h3 {
            margin: 0 0 8px 0;
            font-size: 1.1rem;
            font-weight: 900;
            color: var(--fs-brown);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .card p.desc {
            margin: 0 0 24px 0;
            font-size: 0.95rem;
            opacity: 0.6;
            line-height: 1.5;
        }

        .svg-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex: 1;
            min-height: 180px;
            background-color: #f8f6f3;
            border-radius: 12px;
            padding: 20px;
            box-sizing: border-box;
        }

        .no-select { user-select: none; -webkit-user-select: none; }

        .skel-pulse { animation: skel 1.2s ease-in-out infinite alternate; }
        @keyframes skel { 0% { opacity: 0.3; } 100% { opacity: 0.8; } }

        .donut-segment {
            transition: var(--transition);
            transform-origin: center;
            cursor: pointer;
        }
        .donut-segment:hover {
            transform: scale(1.05);
            stroke-width: 18;
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                padding: 20px;
                flex-direction: row;
                flex-wrap: wrap;
                align-items: center;
            }
            .brand-logo {
                margin-bottom: 0;
                margin-right: auto;
            }
            .nav-items {
                display: flex;
                gap: 16px;
                width: 100%;
                margin-top: 12px;
            }
            .nav-items li { margin-bottom: 0; font-size: 0.9rem; }
            .workspace {
                margin-left: 0;
                padding: 24px;
            }
            header h1 { font-size: 2rem; }
            .grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="brand-logo">
            <svg width="36" height="36" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <circle cx="50" cy="50" r="40" fill="none" stroke="#E38D4F" stroke-width="12" />
                <path d="M 50 10 L 50 90 M 10 50 L 90 50" stroke="#0d9488" stroke-width="8" stroke-linecap="round" />
            </svg>
            FogSift UI
        </div>
        <ul class="nav-items" id="sidebar-nav">
            <li class="active" data-target="view-sandbox">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
                Component Sandbox
            </li>
            <li data-target="view-timelines">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
                Animation Timelines
            </li>
            <li data-target="view-metrics">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 12h4l2-9 5 18 3-10h4"></path></svg>
                Metrics & Telemetry
            </li>
            <li style="margin-top: auto;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                <a href="/" style="color: inherit; text-decoration: none;">Back to FogSift</a>
            </li>
        </ul>
    </div>

    <div class="workspace">

        <!-- VIEW 1: COMPONENT SANDBOX -->
        <div id="view-sandbox" class="view-section active">
            <header>
                <h1>Experimental Sandbox</h1>
                <p>Tactile vector components driven by declarative state and minimal script overhead.</p>
            </header>

            <div class="grid">
                <!-- Liquid Physics -->
                <div class="card">
                    <h3>Liquid Physics</h3>
                    <p class="desc">Alpha-channel matrix manipulation creating organic viscosity.</p>
                    <div class="svg-container">
                        <svg viewBox="0 0 200 150" width="100%" height="100%">
                            <defs>
                                <filter id="goo">
                                    <feGaussianBlur in="SourceGraphic" stdDeviation="6" result="blur" />
                                    <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -9" result="goo" />
                                    <feBlend in="SourceGraphic" in2="goo" />
                                </filter>
                            </defs>
                            <g filter="url(#goo)" fill="#0d9488">
                                <circle cx="100" cy="110" r="35" />
                                <circle cx="100" cy="110" r="18">
                                    <animate attributeName="cy" values="110; 20; 110" dur="2.8s" repeatCount="indefinite" />
                                </circle>
                                <circle cx="100" cy="110" r="14">
                                    <animate attributeName="cy" values="110; 30; 110" dur="2.1s" begin="0.8s" repeatCount="indefinite" />
                                </circle>
                            </g>
                        </svg>
                    </div>
                </div>

                <!-- Rotary Encoder -->
                <div class="card">
                    <h3>Rotary Encoder</h3>
                    <p class="desc">Trigonometric JS mapping for hardware-feel interactions.</p>
                    <div class="svg-container">
                        <svg id="rotary-svg" viewBox="0 0 160 160" width="140" height="140" class="no-select" style="cursor: pointer; touch-action: none;">
                            <circle cx="80" cy="80" r="60" fill="none" stroke="#e0dcd5" stroke-width="12" stroke-dasharray="283 377" stroke-dashoffset="0" stroke-linecap="round" transform="rotate(135 80 80)"/>
                            <circle id="rotary-value" cx="80" cy="80" r="60" fill="none" stroke="#E38D4F" stroke-width="12" stroke-dasharray="283 377" stroke-dashoffset="283" stroke-linecap="round" transform="rotate(135 80 80)"/>
                            <g id="rotary-knob" transform="rotate(225 80 80)">
                                <circle cx="80" cy="80" r="45" fill="#fff" filter="drop-shadow(0 4px 6px rgba(0,0,0,0.1))" />
                                <circle cx="80" cy="45" r="4" fill="#3B2516" />
                            </g>
                            <text id="rotary-text" x="80" y="86" text-anchor="middle" font-family="Jost" font-weight="900" font-size="20" fill="#3B2516">0%</text>
                        </svg>
                    </div>
                </div>

                <!-- State Switch -->
                <div class="card">
                    <h3>System Switch</h3>
                    <p class="desc">Smooth interpolation of translation arrays via SMIL.</p>
                    <div class="svg-container">
                        <svg id="sys-toggle" viewBox="0 0 120 60" width="120" height="60" style="cursor: pointer;">
                            <rect id="tog-track" x="4" y="4" width="112" height="52" rx="26" fill="#e0dcd5">
                                <animate id="trk-on" attributeName="fill" to="#0d9488" dur="0.3s" begin="indefinite" fill="freeze" />
                                <animate id="trk-off" attributeName="fill" to="#e0dcd5" dur="0.3s" begin="indefinite" fill="freeze" />
                            </rect>
                            <circle id="tog-knob" cx="30" cy="30" r="20" fill="#fff" filter="drop-shadow(0 2px 4px rgba(0,0,0,0.15))">
                                <animateTransform id="knb-on" attributeName="transform" type="translate" to="60 0" dur="0.3s" begin="indefinite" fill="freeze" />
                                <animateTransform id="knb-off" attributeName="transform" type="translate" to="0 0" dur="0.3s" begin="indefinite" fill="freeze" />
                            </circle>
                        </svg>
                    </div>
                </div>

                <!-- Morphing Menu -->
                <div class="card">
                    <h3>Morphing Menu</h3>
                    <p class="desc">Animated path definitions mapping Hamburger to Close states.</p>
                    <div class="svg-container">
                        <svg id="menu-icon" viewBox="0 0 100 100" width="80" height="80" style="cursor: pointer;">
                            <rect width="100" height="100" rx="16" fill="#fff" stroke="#e0dcd5" stroke-width="2" />
                            <path id="menu-top" d="M 25 35 L 75 35" stroke="#3B2516" stroke-width="8" stroke-linecap="round">
                                <animate id="top-to-x" attributeName="d" to="M 30 30 L 70 70" dur="0.3s" calcMode="spline" keyTimes="0; 1" keySplines="0.4 0 0.2 1" fill="freeze" begin="indefinite"/>
                                <animate id="top-to-h" attributeName="d" to="M 25 35 L 75 35" dur="0.3s" calcMode="spline" keyTimes="0; 1" keySplines="0.4 0 0.2 1" fill="freeze" begin="indefinite"/>
                            </path>
                            <path id="menu-mid" d="M 25 50 L 75 50" stroke="#3B2516" stroke-width="8" stroke-linecap="round">
                                <animate id="mid-hide" attributeName="opacity" to="0" dur="0.2s" fill="freeze" begin="indefinite"/>
                                <animate id="mid-show" attributeName="opacity" to="1" dur="0.2s" fill="freeze" begin="indefinite"/>
                            </path>
                            <path id="menu-bot" d="M 25 65 L 75 65" stroke="#3B2516" stroke-width="8" stroke-linecap="round">
                                <animate id="bot-to-x" attributeName="d" to="M 30 70 L 70 30" dur="0.3s" calcMode="spline" keyTimes="0; 1" keySplines="0.4 0 0.2 1" fill="freeze" begin="indefinite"/>
                                <animate id="bot-to-h" attributeName="d" to="M 25 65 L 75 65" dur="0.3s" calcMode="spline" keyTimes="0; 1" keySplines="0.4 0 0.2 1" fill="freeze" begin="indefinite"/>
                            </path>
                        </svg>
                    </div>
                </div>

                <!-- Range Slider -->
                <div class="card">
                    <h3>Range Slider</h3>
                    <p class="desc">Mapping cursor coordinates to local SVG bounding limits.</p>
                    <div class="svg-container" style="padding: 0 30px;">
                        <svg id="range-svg" class="no-select" viewBox="0 0 300 80" width="100%" height="80" style="cursor: pointer; overflow: visible;">
                            <rect x="0" y="36" width="300" height="8" rx="4" fill="#e0dcd5" />
                            <rect id="range-fill" x="0" y="36" width="150" height="8" rx="4" fill="#E38D4F" />
                            <circle id="range-knob" cx="150" cy="40" r="14" fill="#3B2516" filter="drop-shadow(0 2px 5px rgba(0,0,0,0.2))" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- VIEW 2: ANIMATION TIMELINES -->
        <div id="view-timelines" class="view-section">
            <header>
                <h1>Animation Timelines</h1>
                <p>Sequential orchestration using precise coordinate cameras and semantic typing.</p>
            </header>

            <div class="grid">
                <!-- Typewriter -->
                <div class="card">
                    <h3>Semantic Typewriter</h3>
                    <p class="desc">Clipping path synchronization for terminal-style interfaces.</p>
                    <div class="svg-container">
                        <svg viewBox="0 0 300 100" width="100%" height="100%">
                            <defs>
                                <clipPath id="type-clip">
                                    <rect x="0" y="0" width="0" height="100">
                                        <animate attributeName="width" values="0; 300; 300; 0; 0" dur="5s" repeatCount="indefinite" />
                                    </rect>
                                </clipPath>
                            </defs>
                            <text x="10" y="55" font-family="'Courier New', monospace" font-size="22" font-weight="bold" fill="#3B2516" clip-path="url(#type-clip)">
                                > executing_ui.svg_
                            </text>
                        </svg>
                    </div>
                </div>

                <!-- Camera Pan -->
                <div class="card">
                    <h3>Virtual Camera Pan</h3>
                    <p class="desc">Automated ViewBox interpolation for narrative scrolling.</p>
                    <div class="svg-container">
                        <svg viewBox="0 0 200 150" width="100%" height="100%" style="background:#fff; border-radius:8px; border: 1px solid #e0dcd5;">
                            <animate attributeName="viewBox" values="0 0 200 150; 200 0 200 150; 0 0 200 150" dur="6s" repeatCount="indefinite" calcMode="spline" keyTimes="0; 0.5; 1" keySplines="0.4 0 0.2 1; 0.4 0 0.2 1"/>
                            <rect x="25" y="50" width="150" height="50" fill="#E38D4F" rx="4" />
                            <text x="100" y="125" text-anchor="middle" font-size="12" font-weight="700">Sector Alpha</text>
                            <circle cx="300" cy="75" r="40" fill="#0d9488" />
                            <text x="300" y="140" text-anchor="middle" font-size="12" font-weight="700">Sector Beta</text>
                        </svg>
                    </div>
                </div>

                <!-- Play/Pause -->
                <div class="card">
                    <h3>Media Morph</h3>
                    <p class="desc">Vertex matching for seamless geometric state transitions.</p>
                    <div class="svg-container">
                        <svg id="media-ctrl" viewBox="0 0 100 100" width="80" height="80" style="cursor:pointer;">
                            <circle cx="50" cy="50" r="48" fill="#3B2516" />
                            <path id="media-path" d="M 38 28 L 72 50 L 38 72 Z" fill="#fff">
                                <animate id="m-to-pause" attributeName="d" begin="indefinite" dur="0.3s" fill="freeze" to="M 32 28 L 46 28 L 46 72 L 32 72 M 54 28 L 68 28 L 68 72 L 54 72" />
                                <animate id="m-to-play" attributeName="d" begin="indefinite" dur="0.3s" fill="freeze" to="M 38 28 L 72 50 L 38 72 L 38 28 M 38 28 L 72 50 L 38 72 L 38 28" />
                            </path>
                        </svg>
                    </div>
                </div>

                <!-- Skeleton Layout Array -->
                <div class="card">
                    <h3>Skeleton Layout</h3>
                    <p class="desc">Native CSS opacity keyframes for placeholder loading states.</p>
                    <div class="svg-container">
                        <svg viewBox="0 0 300 150" width="100%" height="100%" style="background:#fff; border-radius: 8px;">
                            <rect class="skel-pulse" x="20" y="20" width="50" height="50" rx="25" fill="#e0dcd5" style="animation-delay: 0s" />
                            <rect class="skel-pulse" x="85" y="25" width="150" height="12" rx="4" fill="#e0dcd5" style="animation-delay: 0.1s" />
                            <rect class="skel-pulse" x="85" y="45" width="100" height="12" rx="4" fill="#e0dcd5" style="animation-delay: 0.2s" />
                            <rect class="skel-pulse" x="20" y="90" width="260" height="12" rx="4" fill="#e0dcd5" style="animation-delay: 0.3s" />
                            <rect class="skel-pulse" x="20" y="110" width="220" height="12" rx="4" fill="#e0dcd5" style="animation-delay: 0.4s" />
                        </svg>
                    </div>
                </div>

                <!-- Infinite Progress -->
                <div class="card">
                    <h3>Infinite Progress</h3>
                    <p class="desc">Overlapping orbital arcs combining rotation and dash offsets.</p>
                    <div class="svg-container">
                        <svg viewBox="0 0 100 100" width="80" height="80">
                            <circle cx="50" cy="50" r="40" fill="none" stroke="#E38D4F" stroke-width="6" stroke-dasharray="100" stroke-linecap="round">
                                <animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="1.8s" repeatCount="indefinite"/>
                                <animate attributeName="stroke-dashoffset" values="0; 250; 0" dur="2.4s" repeatCount="indefinite" calcMode="spline" keyTimes="0; 0.5; 1" keySplines="0.4 0 0.2 1; 0.4 0 0.2 1" />
                            </circle>
                            <circle cx="50" cy="50" r="24" fill="none" stroke="#0d9488" stroke-width="6" stroke-dasharray="60" stroke-linecap="round">
                                <animateTransform attributeName="transform" type="rotate" from="360 50 50" to="0 50 50" dur="1.2s" repeatCount="indefinite"/>
                                <animate attributeName="stroke-dashoffset" values="150; 0; 150" dur="2s" repeatCount="indefinite" />
                            </circle>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- VIEW 3: METRICS & TELEMETRY -->
        <div id="view-metrics" class="view-section">
            <header>
                <h1>Metrics & Telemetry</h1>
                <p>Dynamic data mapping using polygon interpolation and reticle arrays.</p>
            </header>

            <div class="grid">
                <!-- Radar -->
                <div class="card">
                    <h3>Radar Telemetry</h3>
                    <p class="desc">Coordinate point interpolation for multivariate datasets.</p>
                    <div class="svg-container">
                        <svg viewBox="0 0 200 200" width="100%" height="100%">
                            <polygon points="100,20 170,60 170,140 100,180 30,140 30,60" fill="none" stroke="#e0dcd5" />
                            <polygon points="100,60 140,80 140,120 100,140 60,120 60,80" fill="none" stroke="#e0dcd5" stroke-dasharray="2 2" />
                            <polygon fill="rgba(13, 148, 136, 0.2)" stroke="#0d9488" stroke-width="3">
                                <animate attributeName="points" dur="4s" repeatCount="indefinite"
                                    values="100,40 140,80 150,110 100,150 70,120 50,70; 100,70 160,60 130,130 100,120 40,140 60,80; 100,40 140,80 150,110 100,150 70,120 50,70" />
                            </polygon>
                        </svg>
                    </div>
                </div>

                <!-- Reticle -->
                <div class="card">
                    <h3>Reticle Scanner</h3>
                    <p class="desc">Concentric rotational arrays simulating optical systems.</p>
                    <div class="svg-container">
                        <svg viewBox="0 0 200 200" width="100%" height="100%">
                            <g>
                                <animateTransform attributeName="transform" type="rotate" from="0 100 100" to="360 100 100" dur="10s" repeatCount="indefinite" />
                                <circle cx="100" cy="100" r="70" fill="none" stroke="#0d9488" stroke-width="4" stroke-dasharray="10 20" />
                            </g>
                            <g>
                                <animateTransform attributeName="transform" type="rotate" from="360 100 100" to="0 100 100" dur="6s" repeatCount="indefinite" />
                                <circle cx="100" cy="100" r="45" fill="none" stroke="#E38D4F" stroke-width="2" stroke-dasharray="40 10" />
                            </g>
                            <circle cx="100" cy="100" r="10" fill="#3B2516">
                                <animate attributeName="r" values="8; 12; 8" dur="2s" repeatCount="indefinite" />
                            </circle>
                        </svg>
                    </div>
                </div>

                <!-- Donut -->
                <div class="card">
                    <h3>Interactive Donut</h3>
                    <p class="desc">Segmented distribution with hover-active scaling.</p>
                    <div class="svg-container">
                        <svg viewBox="0 0 200 200" width="100%" height="100%">
                            <circle class="donut-segment" cx="100" cy="100" r="60" fill="none" stroke="#0d9488" stroke-width="14" stroke-dasharray="150 377" transform="rotate(-90 100 100)" />
                            <circle class="donut-segment" cx="100" cy="100" r="60" fill="none" stroke="#E38D4F" stroke-width="14" stroke-dasharray="132 377" stroke-dashoffset="-150" transform="rotate(-90 100 100)" />
                            <circle class="donut-segment" cx="100" cy="100" r="60" fill="none" stroke="#3B2516" stroke-width="14" stroke-dasharray="95 377" stroke-dashoffset="-282" transform="rotate(-90 100 100)" />
                            <text x="100" y="106" text-anchor="middle" font-weight="900" font-size="20">8.2k</text>
                        </svg>
                    </div>
                </div>

                <!-- Equalizer Array -->
                <div class="card">
                    <h3>Equalizer Array</h3>
                    <p class="desc">Live vertical bars utilizing asynchronous SMIL durations.</p>
                    <div class="svg-container">
                        <svg viewBox="0 0 200 150" width="100%" height="100%">
                            <rect x="20" y="125" width="160" height="4" rx="2" fill="#e0dcd5" />
                            <g fill="#0d9488">
                                <rect x="35" y="80" width="16" height="40" rx="3">
                                    <animate attributeName="y" values="80; 40; 90; 80" dur="1.2s" repeatCount="indefinite" />
                                    <animate attributeName="height" values="40; 80; 30; 40" dur="1.2s" repeatCount="indefinite" />
                                </rect>
                                <rect x="65" y="60" width="16" height="60" rx="3" fill="#E38D4F">
                                    <animate attributeName="y" values="60; 100; 30; 60" dur="1.5s" repeatCount="indefinite" />
                                    <animate attributeName="height" values="60; 20; 90; 60" dur="1.5s" repeatCount="indefinite" />
                                </rect>
                                <rect x="95" y="40" width="16" height="80" rx="3">
                                    <animate attributeName="y" values="40; 90; 50; 40" dur="1.1s" repeatCount="indefinite" />
                                    <animate attributeName="height" values="80; 30; 70; 80" dur="1.1s" repeatCount="indefinite" />
                                </rect>
                                <rect x="125" y="90" width="16" height="30" rx="3" fill="#3B2516">
                                    <animate attributeName="y" values="90; 50; 110; 90" dur="1.8s" repeatCount="indefinite" />
                                    <animate attributeName="height" values="30; 70; 10; 30" dur="1.8s" repeatCount="indefinite" />
                                </rect>
                                <rect x="155" y="70" width="16" height="50" rx="3">
                                    <animate attributeName="y" values="70; 40; 80; 70" dur="1.4s" repeatCount="indefinite" />
                                    <animate attributeName="height" values="50; 80; 40; 50" dur="1.4s" repeatCount="indefinite" />
                                </rect>
                            </g>
                        </svg>
                    </div>
                </div>

                <!-- Spline Area Graph -->
                <div class="card">
                    <h3>Spline Area Graph</h3>
                    <p class="desc">Filled cubic bezier curves representing continuous volumes.</p>
                    <div class="svg-container">
                        <svg viewBox="0 0 300 150" width="100%" height="100%">
                            <path d="M 0 120 L 300 120 M 0 80 L 300 80 M 0 40 L 300 40" stroke="#e0dcd5" stroke-width="1" stroke-dasharray="4 4" />
                            <defs>
                                <linearGradient id="area-grad" x1="0" y1="0" x2="0" y2="1">
                                    <stop offset="0%" stop-color="rgba(13, 148, 136, 0.4)" />
                                    <stop offset="100%" stop-color="rgba(13, 148, 136, 0.0)" />
                                </linearGradient>
                            </defs>
                            <path d="M 0 150 L 0 90 C 50 90, 80 40, 150 60 C 220 80, 250 30, 300 40 L 300 150 Z" fill="url(#area-grad)" />
                            <path d="M 0 90 C 50 90, 80 40, 150 60 C 220 80, 250 30, 300 40" fill="none" stroke="#0d9488" stroke-width="4" stroke-linecap="round" />
                            <circle cx="150" cy="60" r="6" fill="#fff" stroke="#E38D4F" stroke-width="4" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sidebar navigation
        (function() {
            var nav = document.querySelectorAll('#sidebar-nav li[data-target]');
            var views = document.querySelectorAll('.view-section');
            nav.forEach(function(item) {
                item.addEventListener('click', function() {
                    nav.forEach(function(li) { li.classList.remove('active'); });
                    item.classList.add('active');
                    var target = item.getAttribute('data-target');
                    views.forEach(function(v) {
                        v.classList.remove('active');
                        if (v.id === target) v.classList.add('active');
                    });
                });
            });
        })();

        // Rotary encoder
        (function() {
            var svg = document.getElementById('rotary-svg');
            var knob = document.getElementById('rotary-knob');
            var val = document.getElementById('rotary-value');
            var txt = document.getElementById('rotary-text');
            var active = false;
            function update(e) {
                var rect = svg.getBoundingClientRect();
                var cx = rect.left + rect.width / 2;
                var cy = rect.top + rect.height / 2;
                var ex = e.touches ? e.touches[0].clientX : e.clientX;
                var ey = e.touches ? e.touches[0].clientY : e.clientY;
                var ang = Math.atan2(ey - cy, ex - cx) * (180 / Math.PI) + 90;
                if (ang < 0) ang += 360;
                if (ang > 135 && ang < 225) ang = Math.abs(ang - 135) < Math.abs(ang - 225) ? 135 : 225;
                knob.setAttribute('transform', 'rotate(' + ang + ' 80 80)');
                var rel = ang >= 225 ? ang - 225 : ang + 135;
                var p = Math.round((rel / 270) * 100);
                val.setAttribute('stroke-dashoffset', 283 - (2.83 * p));
                txt.textContent = p + '%';
            }
            svg.addEventListener('mousedown', function(e) { active = true; update(e); });
            svg.addEventListener('touchstart', function(e) { active = true; update(e); e.preventDefault(); }, { passive: false });
            document.addEventListener('mousemove', function(e) { if(active) update(e); });
            document.addEventListener('touchmove', function(e) { if(active) { update(e); e.preventDefault(); } }, { passive: false });
            document.addEventListener('mouseup', function() { active = false; });
            document.addEventListener('touchend', function() { active = false; });
        })();

        // System toggle
        (function() {
            var el = document.getElementById('sys-toggle');
            var s = false;
            el.addEventListener('click', function() {
                if(!s) { document.getElementById('trk-on').beginElement(); document.getElementById('knb-on').beginElement(); }
                else { document.getElementById('trk-off').beginElement(); document.getElementById('knb-off').beginElement(); }
                s = !s;
            });
        })();

        // Morphing menu
        (function() {
            var menu = document.getElementById('menu-icon');
            var isOpen = false;
            menu.addEventListener('click', function() {
                if(!isOpen) {
                    document.getElementById('top-to-x').beginElement();
                    document.getElementById('mid-hide').beginElement();
                    document.getElementById('bot-to-x').beginElement();
                } else {
                    document.getElementById('top-to-h').beginElement();
                    document.getElementById('mid-show').beginElement();
                    document.getElementById('bot-to-h').beginElement();
                }
                isOpen = !isOpen;
            });
        })();

        // Range slider
        (function() {
            var svg = document.getElementById('range-svg');
            var fill = document.getElementById('range-fill');
            var knob = document.getElementById('range-knob');
            var dragging = false;
            function updateRange(e) {
                var rect = svg.getBoundingClientRect();
                var scaleX = 300 / rect.width;
                var clientX = e.touches ? e.touches[0].clientX : e.clientX;
                var x = (clientX - rect.left) * scaleX;
                if(x < 0) x = 0;
                if(x > 300) x = 300;
                fill.setAttribute('width', x);
                knob.setAttribute('cx', x);
            }
            svg.addEventListener('mousedown', function(e) { dragging = true; updateRange(e); });
            svg.addEventListener('touchstart', function(e) { dragging = true; updateRange(e); }, { passive: true });
            document.addEventListener('mousemove', function(e) { if(dragging) updateRange(e); });
            document.addEventListener('touchmove', function(e) { if(dragging) updateRange(e); }, { passive: false });
            document.addEventListener('mouseup', function() { dragging = false; });
            document.addEventListener('touchend', function() { dragging = false; });
        })();

        // Media morph play/pause
        (function() {
            var el = document.getElementById('media-ctrl');
            var p = false;
            el.addEventListener('click', function() {
                if(!p) { document.getElementById('m-to-pause').beginElement(); }
                else { document.getElementById('m-to-play').beginElement(); }
                p = !p;
            });
        })();
    </script>
</body>
</html>
