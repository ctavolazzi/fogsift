const Toast={containerId:"toast-container",TIMING:{DEFAULT_DURATION:2500,ERROR_DURATION:5e3,FADE_DURATION:200,COPY_FEEDBACK:1e3},getContainer(){let e=document.getElementById(this.containerId);return e||(e=document.createElement("div"),e.id=this.containerId,e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),document.body.appendChild(e)),e},show(e,t=this.TIMING.DEFAULT_DURATION){this._create(e,"success",t)},error(e,t=this.TIMING.ERROR_DURATION){this._create(e,"error",t,!0)},info(e,t=this.TIMING.DEFAULT_DURATION){this._create(e,"info",t)},_create(e,t="success",s,n=!1){const i=this.getContainer(),o=document.createElement("div");o.className=`toast toast--${t}`;const a=document.createElement("span");if(a.className="toast__message",a.innerText=e,o.appendChild(a),n){const l=document.createElement("button");l.className="toast__copy",l.innerHTML="[COPY]",l.title="Copy error to clipboard",l.onclick=c=>{c.stopPropagation(),navigator.clipboard.writeText(e).then(()=>{l.innerHTML="[COPIED]",setTimeout(()=>l.innerHTML="[COPY]",this.TIMING.COPY_FEEDBACK)}).catch(()=>{l.innerHTML="[FAILED]",setTimeout(()=>l.innerHTML="[COPY]",this.TIMING.COPY_FEEDBACK)})},o.appendChild(l)}i.appendChild(o);const r=setTimeout(()=>{this._dismiss(o)},s);o.addEventListener("click",l=>{l.target.classList.contains("toast__copy")||(clearTimeout(r),this._dismiss(o))})},_dismiss(e){const t=this.TIMING.FADE_DURATION;e.style.animation=`slideOut ${t/1e3}s ease forwards`,setTimeout(()=>e.remove(),t)}};window.Toast=Toast;const CopyPageText={extractText(){const e=document.querySelector("main#main-content")||document.querySelector(".wiki-main")||document.querySelector(".wiki-index-layout")||document.querySelector("main");if(!e)return"";const t=e.cloneNode(!0);[".nav-wrapper",'footer[role="contentinfo"]',".wiki-footer",".wiki-index-footer",".skip-link",".mobile-drawer",".wiki-sidebar",'[aria-hidden="true"]'].forEach(o=>{t.querySelectorAll(o).forEach(r=>r.remove())}),t.querySelectorAll("*").forEach(o=>{const a=window.getComputedStyle(o);(a.display==="none"||a.visibility==="hidden"||o.hasAttribute("hidden"))&&o.remove()});let i=t.textContent||t.innerText||"";return i=i.replace(/\s+/g," ").replace(/\n\s*\n/g,`

`).trim(),i},async copy(){const e=typeof Toast<"u"&&Toast.show&&Toast.error;try{const t=this.extractText();if(!t){e?Toast.error("No text content found to copy"):typeof Debug<"u"&&Debug.log("CopyPageText","No text content found");return}await navigator.clipboard.writeText(t),e&&Toast.show("Page text copied to clipboard")}catch(t){typeof Debug<"u"&&Debug.error("CopyPageText","Failed to copy:",t.message),e&&Toast.error("Failed to copy text to clipboard")}}};window.CopyPageText=CopyPageText;const Theme={STORAGE_KEY:"theme",SCROLL_KEY:"theme-scroll-position",EVENT_NAME:"themechange",THEMES:["light","dark","industrial-punchcard","matrix","sky","synthwave","pipboy","rivendell","camo","barbie","ocean","aurora"],THEME_LABELS:{light:"Light",dark:"Dark","industrial-punchcard":"Industrial",matrix:"Matrix",sky:"Sky",synthwave:"Synthwave",pipboy:"Pip-Boy",rivendell:"Rivendell",camo:"Camo",barbie:"Barbie",ocean:"Ocean",aurora:"Aurora",demo:"Demo"},_initialized:!1,_observer:null,_demoInterval:null,_demoActive:!1,init(){if(this._initialized)return;this._initialized=!0;const e="light";try{localStorage.setItem(this.STORAGE_KEY,e)}catch{}this._applyTheme(e),this._hydrateDropdowns(),this._setupStorageListener(),this._setupMutationObserver(),this._setupThemeListener(),this._setupKeyboardShortcut(),this._setupSystemThemeListener()},get(){return document.documentElement.getAttribute("data-theme")||"light"},set(e,t={}){const{notify:s=!0,broadcast:n=!0,preserveScroll:i=!0,fromDemo:o=!1}=t;if(e==="demo"){this.startDemo();return}this._demoActive&&!o&&this.stopDemo(),this.THEMES.includes(e)||(typeof Debug<"u"&&Debug.log("Theme",`Invalid theme "${e}", falling back to light`),e="light");const a=this.get();if(a!==e){if(i&&this._saveScrollPosition(),this._applyTheme(e),i&&requestAnimationFrame(()=>{this._restoreScrollPosition()}),!this._demoActive)try{localStorage.setItem(this.STORAGE_KEY,e)}catch(r){typeof Debug<"u"&&Debug.log("Theme","Could not persist preference:",r.message)}if(n&&this._dispatchChange(e,a),s&&typeof Toast<"u"){const r=this._demoActive?`DEMO: ${this.THEME_LABELS[e].toUpperCase()}`:`VISUAL MODE: ${this.THEME_LABELS[e].toUpperCase()}`;Toast.show(r)}}},DEMO_INTERVAL:4e3,_demoCountdown:0,_demoCountdownInterval:null,startDemo(){this._demoActive||(this._demoActive=!0,this._demoOriginalTheme=this.get(),this._demoIndex=0,typeof Toast<"u"&&Toast.show("\u{1F3AC} DEMO MODE: Press T to exit"),this._createCountdownDisplay(),this._demoTick(),this._demoInterval=setInterval(()=>this._demoTick(),this.DEMO_INTERVAL),this._demoCountdown=Math.floor(this.DEMO_INTERVAL/1e3),this._updateCountdownDisplay(),this._demoCountdownInterval=setInterval(()=>{this._demoCountdown--,this._demoCountdown<=0&&(this._demoCountdown=Math.floor(this.DEMO_INTERVAL/1e3)),this._updateCountdownDisplay()},1e3))},stopDemo(){this._demoActive&&(this._demoActive=!1,document.documentElement.classList.remove("demo-channel-switch"),this._demoInterval&&(clearInterval(this._demoInterval),this._demoInterval=null),this._demoCountdownInterval&&(clearInterval(this._demoCountdownInterval),this._demoCountdownInterval=null),this._removeCountdownDisplay(),this._demoOriginalTheme&&this.THEMES.includes(this._demoOriginalTheme)&&this.set(this._demoOriginalTheme,{notify:!0}),typeof Toast<"u"&&Toast.show("Demo ended"))},_demoTick(){const e=this.THEMES[this._demoIndex];document.documentElement.classList.add("theme-transitioning"),document.documentElement.classList.add("demo-channel-switch"),setTimeout(()=>{this.set(e,{notify:!0,preserveScroll:!0,fromDemo:!0})},100),setTimeout(()=>{document.documentElement.classList.remove("demo-channel-switch"),document.documentElement.classList.remove("theme-transitioning")},350),this._demoIndex=(this._demoIndex+1)%this.THEMES.length},isDemoActive(){return this._demoActive},_createCountdownDisplay(){this._removeCountdownDisplay();const e=document.createElement("div");e.id="demo-countdown",e.setAttribute("role","timer"),e.setAttribute("aria-live","off"),document.body.appendChild(e)},_updateCountdownDisplay(){const e=document.getElementById("demo-countdown");if(!e)return;const t=this.THEME_LABELS[this.get()]||this.get(),s=this._demoIndex,n=this.THEME_LABELS[this.THEMES[s]]||this.THEMES[s],i=(Math.floor(this.DEMO_INTERVAL/1e3)-this._demoCountdown)/Math.floor(this.DEMO_INTERVAL/1e3)*100;e.innerHTML=`
            <div class="demo-countdown-content">
                <span class="demo-countdown-label">DEMO</span>
                <span class="demo-countdown-theme">${t}</span>
                <div class="demo-countdown-bar">
                    <div class="demo-countdown-progress" style="width: ${i}%"></div>
                </div>
                <span class="demo-countdown-next">Next: ${n} in ${this._demoCountdown}s</span>
            </div>
        `},_removeCountdownDisplay(){const e=document.getElementById("demo-countdown");e&&e.remove()},cycle(){const e=this.get(),t=this.THEMES.indexOf(e),s=this.THEMES[(t+1)%this.THEMES.length];this.set(s)},toggle(){this.cycle()},onChange(e){this.set(e.target.value)},subscribe(e){const t=s=>e(s.detail.theme,s.detail.previousTheme);return window.addEventListener(this.EVENT_NAME,t),()=>window.removeEventListener(this.EVENT_NAME,t)},_applyTheme(e){document.documentElement.classList.add("theme-transitioning"),document.documentElement.setAttribute("data-theme",e),this._hydrateDropdowns(),setTimeout(()=>{document.documentElement.classList.remove("theme-transitioning")},300)},_saveScrollPosition(){try{const e={x:window.scrollX||window.pageXOffset,y:window.scrollY||window.pageYOffset,path:window.location.pathname};sessionStorage.setItem(this.SCROLL_KEY,JSON.stringify(e))}catch{}},_restoreScrollPosition(){try{const e=sessionStorage.getItem(this.SCROLL_KEY);if(!e)return;const t=JSON.parse(e);t.path===window.location.pathname&&window.scrollTo({top:t.y,left:t.x,behavior:"instant"})}catch{}},_hydrateDropdowns(){const e=this.get();document.querySelectorAll(".theme-dropdown").forEach(t=>{t.value!==e&&(t.value=e)})},_dispatchChange(e,t){const s=new CustomEvent(this.EVENT_NAME,{bubbles:!0,detail:{theme:e,previousTheme:t}});window.dispatchEvent(s)},_setupStorageListener(){window.addEventListener("storage",e=>{if(e.key===this.STORAGE_KEY&&e.newValue){const t=e.newValue;this.THEMES.includes(t)&&t!==this.get()&&(this._applyTheme(t),this._dispatchChange(t,this.get()))}})},_setupMutationObserver(){typeof MutationObserver>"u"||(this._observer=new MutationObserver(e=>{for(const t of e)for(const s of t.addedNodes)s.nodeType===Node.ELEMENT_NODE&&(s.classList?.contains("theme-dropdown")?s.value=this.get():s.querySelectorAll&&s.querySelectorAll(".theme-dropdown").forEach(n=>{n.value=this.get()}))}),this._observer.observe(document.body,{childList:!0,subtree:!0}))},_setupThemeListener(){window.addEventListener(this.EVENT_NAME,()=>{this._hydrateDropdowns()})},_detectSystemTheme(){return typeof window>"u"||!window.matchMedia?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},_setupSystemThemeListener(){if(typeof window>"u"||!window.matchMedia)return;window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{try{localStorage.getItem(this.STORAGE_KEY)||this.set(t.matches?"dark":"light")}catch{this.set(t.matches?"dark":"light")}})},_setupKeyboardShortcut(){document.addEventListener("keydown",e=>{const t=e.target.tagName.toLowerCase();t==="input"||t==="textarea"||e.target.isContentEditable||e.ctrlKey||e.altKey||e.metaKey||((e.key==="t"||e.key==="T")&&(this._demoActive?this.stopDemo():this.cycle(),e.preventDefault()),(e.key==="d"||e.key==="D")&&(this._demoActive?this.stopDemo():this.startDemo(),e.preventDefault()))})},destroy(){this._observer&&(this._observer.disconnect(),this._observer=null),this._initialized=!1}},ThemePicker={_isOpen:!1,_picker:null,_toggle:null,_menu:null,init(){this._picker=document.querySelector(".theme-picker"),this._picker&&(this._toggle=this._picker.querySelector(".theme-picker-toggle"),this._menu=this._picker.querySelector(".theme-picker-menu"),this._updateSelection(),document.addEventListener("click",e=>{this._isOpen&&!this._picker.contains(e.target)&&this.close()}),this._picker.addEventListener("keydown",e=>this._handleKeydown(e)),Theme.subscribe(()=>this._updateSelection()))},toggle(){this._isOpen?this.close():this.open()},open(){if(!this._picker)return;this._isOpen=!0,this._picker.setAttribute("aria-expanded","true"),this._toggle.setAttribute("aria-expanded","true");const e=this._menu.querySelector(".theme-picker-option");e&&e.focus()},close(){this._picker&&(this._isOpen=!1,this._picker.setAttribute("aria-expanded","false"),this._toggle.setAttribute("aria-expanded","false"))},select(e){Theme.set(e),this.close(),this._toggle.focus()},_updateSelection(){if(!this._menu)return;const e=Theme.get();this._menu.querySelectorAll(".theme-picker-option").forEach(t=>{const s=t.dataset.theme===e;t.setAttribute("aria-selected",s?"true":"false")})},_handleKeydown(e){const t=Array.from(this._menu.querySelectorAll(".theme-picker-option")),s=t.findIndex(n=>n===document.activeElement);switch(e.key){case"Escape":this.close(),this._toggle.focus(),e.preventDefault();break;case"ArrowDown":if(!this._isOpen)this.open();else{const n=s<t.length-1?s+1:0;t[n].focus()}e.preventDefault();break;case"ArrowUp":if(this._isOpen){const n=s>0?s-1:t.length-1;t[n].focus()}e.preventDefault();break;case"Enter":case" ":this._isOpen&&document.activeElement.classList.contains("theme-picker-option")?this.select(document.activeElement.dataset.theme):this._isOpen||this.open(),e.preventDefault();break;case"Tab":this._isOpen&&this.close();break}}};typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Theme.init(),ThemePicker.init()}):(Theme.init(),ThemePicker.init()));const MatrixRain={canvas:null,ctx:null,animationId:null,columns:[],fontSize:14,_initialized:!1,_unsubscribe:null,chars:"\u30A1\u30AB\u30B5\u30BF\u30CA\u30CF\u30DE\u30E4\u30E9\u30EF\u30AC\u30B6\u30C0\u30D0\u30D1\u30A4\u30AD\u30B7\u30C1\u30CB\u30D2\u30DF\u30EA\u30AE\u30B8\u30D3\u30D4\u30A6\u30AF\u30B9\u30C4\u30CC\u30D5\u30E0\u30E6\u30EB\u30B0\u30BA\u30D7\u30A8\u30B1\u30BB\u30C6\u30CD\u30D8\u30E1\u30EC\u30B2\u30BC\u30D9\u30DA\u30AA\u30B3\u30BD\u30C8\u30CE\u30DB\u30E2\u30E8\u30ED\u30B4\u30BE\u30DC\u30DD0123456789",init(){this._initialized||(this._initialized=!0,typeof Theme<"u"&&(this._unsubscribe=Theme.subscribe((e,t)=>{e==="matrix"?this.start():t==="matrix"&&this.stop()}),Theme.get()==="matrix"&&this.start()))},start(){window.matchMedia("(prefers-reduced-motion: reduce)").matches||this.canvas||(this._createCanvas(),this._initColumns(),window.addEventListener("resize",this._boundResize=this._resize.bind(this)),this._loop())},stop(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this.canvas?.parentNode&&this.canvas.parentNode.removeChild(this.canvas),window.removeEventListener("resize",this._boundResize),this.canvas=null,this.ctx=null,this.columns=[]},_createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.id="matrix-rain",this.canvas.setAttribute("aria-hidden","true");const e=this.canvas.style;e.cssText="position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;pointer-events:none;",this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.ctx=this.canvas.getContext("2d",{alpha:!1}),this.ctx.fillStyle="#0D0208",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),document.body.insertBefore(this.canvas,document.body.firstChild)},_initColumns(){const e=Math.ceil(this.canvas.width/this.fontSize);this.columns=new Array(e);for(let t=0;t<e;t++)this.columns[t]={y:Math.random()*this.canvas.height*-.5,speed:4+Math.random()*8,nextChar:0}},_resize(){this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this._initColumns())},_loop(){this._draw(),this.animationId=requestAnimationFrame(()=>this._loop())},_draw(){const e=this.ctx,t=this.canvas.width,s=this.canvas.height,n=this.fontSize,i=this.chars,o=i.length;e.fillStyle="rgba(13, 2, 8, 0.05)",e.fillRect(0,0,t,s),e.font=n+"px monospace";for(let a=0,r=this.columns.length;a<r;a++){const l=this.columns[a],c=a*n,d=l.y;d>-n&&d<s+n&&(e.fillStyle="#FFF",e.fillText(i[l.nextChar++%o],c,d),d-n>0&&(e.fillStyle="#0F0",e.fillText(i[(l.nextChar+5)%o],c,d-n)),d-n*2>0&&(e.fillStyle="#090",e.fillText(i[(l.nextChar+10)%o],c,d-n*2))),l.y+=l.speed,l.y>s+n*3&&(l.y=Math.random()*-100,l.speed=4+Math.random()*8)}},destroy(){this.stop(),this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null),this._initialized=!1}};typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>MatrixRain.init()):MatrixRain.init());const Modal={elementId:"article-modal",articles:null,articlesPath:"/content/articles.json",TIMING:{FADE_IN_DELAY:10,CONTENT_LOAD_DELAY:500,FADE_OUT_DURATION:300},getElement(){return document.getElementById(this.elementId)},async loadArticles(){if(this.articles)return this.articles;try{const e=await fetch(this.articlesPath);if(!e.ok)throw new Error(`HTTP ${e.status}`);const t=await e.json();return this.articles={},t.articles.forEach(s=>{this.articles[s.id]=s}),this.articles}catch(e){return typeof Debug<"u"&&Debug.log("Modal","Failed to load articles:",e.message),typeof Toast<"u"&&Toast.error("Could not load articles. Check connection."),{}}},open(e){const t=this.getElement(),s=document.getElementById("modal-title"),n=document.getElementById("modal-body");!t||!s||!n||(document.body.classList.add("scroll-locked"),s.innerText=`RETRIEVING LOG ${e}...`,n.innerHTML="<p>Decryption in progress...</p>",t.style.display="block",setTimeout(()=>{t.style.opacity=1},this.TIMING.FADE_IN_DELAY),setTimeout(()=>this.loadContent(e,s,n),this.TIMING.CONTENT_LOAD_DELAY))},close(){const e=this.getElement();e&&(e.style.opacity=0,document.body.classList.remove("scroll-locked"),setTimeout(()=>{e.style.display="none"},this.TIMING.FADE_OUT_DURATION))},async loadContent(e,t,s){const i=(await this.loadArticles())[e];if(i){const o=`TIMESTAMP: ${i.date} // ${i.sector}`;t.innerText=i.title,s.textContent="";const a=document.createElement("p");a.className="mono",a.style.color="var(--muted)",a.textContent=o;const r=document.createElement("hr");r.style.cssText="border:0; border-top:1px solid var(--line); margin: 2rem 0;";const l=document.createElement("p");l.textContent=i.body,s.appendChild(a),s.appendChild(r),s.appendChild(l)}else{t.innerText="LOG NOT FOUND",s.textContent="";const o=document.createElement("p");o.textContent="The requested field note could not be retrieved.",s.appendChild(o)}},init(){const e=this.getElement();e&&(e.addEventListener("click",t=>{t.target===e&&this.close()}),this.loadArticles())}};window.Modal=Modal;const Nav={drawerId:"mobile-drawer",overlayId:"mobile-overlay",toggleMobile(){const e=document.getElementById(this.drawerId),t=document.getElementById(this.overlayId);if(!e)return;e.classList.contains("open")?(e.classList.remove("open"),t?.classList.remove("open"),document.body.classList.remove("scroll-locked")):(e.classList.add("open"),t?.classList.add("open"),document.body.classList.add("scroll-locked"))},close(){const e=document.getElementById(this.drawerId),t=document.getElementById(this.overlayId);e?.classList.remove("open"),t?.classList.remove("open"),document.body.classList.remove("scroll-locked")},init(){}};window.Nav=Nav;const SleepMode={PAGE_TIME_REQUIRED:300*1e3,IDLE_TIME_REQUIRED:30*1e3,CHECK_INTERVAL:5e3,DEEP_SLEEP_DELAY:3e3,TIMING:{OVERLAY_DELAY:300,BREATHING_START:1500,WAKE_FLASH_DURATION:150,OVERLAY_FADE:500,ELEMENT_CLEANUP_DELAY:700,STAGGER_BUTTONS:100,STAGGER_CARDS:150,STAGGER_TEXT:80,STAGGER_NAV:50,STAGGER_STARTLE:30,STARTLED_MARK_DURATION:600},DISPLAY:{MOBILE_BREAKPOINT:768,TOASTERS_PER_200PX:1,TOASTERS_MOBILE:2,Z_COUNT_DESKTOP:8,Z_COUNT_MOBILE:4,ZS_PER_ELEMENT:3},CANVAS:{TOASTER_MIN_SPEED:1,TOASTER_SPEED_RANGE:1.5,WING_SPEED_MIN:5,WING_SPEED_RANGE:5,WRAP_MARGIN:60,PIXEL_SCALE:3},pageLoadTime:Date.now(),lastActivityTime:Date.now(),isAsleep:!1,isDeepSleep:!1,checkTimer:null,overlay:null,canvas:null,ctx:null,animationFrame:null,toasters:[],zs:[],sleepyElements:[],decorations:[],breathingTimeout:null,deepSleepTimeout:null,resizeHandler:null,wakeHandler:null,SLEEPY_SELECTORS:{buttons:".cta-button, .pricing-cta, .theme-toggle, .menu-toggle",cards:".process-step, .pricing-card, .about-card, .hero-badge, .wiki-category-card",text:".headline, .subhead, .section-label, .about-name, main h1, main h2, main h3",nav:".menu-link",logo:".brand-logo"},prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches},init(){this.pageLoadTime=Date.now(),this.lastActivityTime=Date.now(),this.bindActivityListeners(),this.startChecking(),console.log("%c \u{1F4A4} Psst... stay a while and something might happen... ","background: #4a2c2a; color: #e07b3c; padding: 5px; font-family: monospace; font-size: 10px;")},bindActivityListeners(){const e=()=>{this.lastActivityTime=Date.now()};document.addEventListener("mousemove",e,{passive:!0}),document.addEventListener("keydown",e,{passive:!0}),document.addEventListener("scroll",e,{passive:!0}),document.addEventListener("touchstart",e,{passive:!0})},startChecking(){this.checkTimer=setInterval(()=>this.checkSleepConditions(),this.CHECK_INTERVAL)},checkSleepConditions(){if(this.isAsleep)return;const e=Date.now(),t=e-this.pageLoadTime,s=e-this.lastActivityTime;t>=this.PAGE_TIME_REQUIRED&&s>=this.IDLE_TIME_REQUIRED&&this.enterSleepMode()},enterSleepMode(){this.isAsleep||(this.isAsleep=!0,console.log("%c \u{1F634} FOGSIFT is taking a nap... click anywhere to wake up! ","background: #1a1412; color: #fb923c; padding: 10px; font-family: monospace; font-weight: bold;"),document.body.classList.add("page-sleeping"),this.prefersReducedMotion()||this.putElementsToSleep(),setTimeout(()=>{this.createOverlay(),this.prefersReducedMotion()||(this.initToasters(),this.initZs(),this.startAnimation()),this.wakeHandler=()=>this.wakeUp(),this.overlay.addEventListener("click",this.wakeHandler),this.overlay.addEventListener("touchend",this.wakeHandler,{passive:!0})},this.TIMING.OVERLAY_DELAY))},putElementsToSleep(){this.sleepyElements=[],this.decorations=[],document.querySelectorAll(this.SLEEPY_SELECTORS.buttons).forEach((t,s)=>{setTimeout(()=>{this.prepareElement(t),t.classList.add("sleepy"),this.sleepyElements.push({element:t,type:"button"}),s%2===0&&this.addZzzToElement(t)},s*this.TIMING.STAGGER_BUTTONS)}),document.querySelectorAll(this.SLEEPY_SELECTORS.cards).forEach((t,s)=>{setTimeout(()=>{this.prepareElement(t),t.classList.add("sleepy"),this.sleepyElements.push({element:t,type:"card"}),s<3&&this.addSleepCap(t),s===1&&this.addSnoreBubble(t),this.addZzzToElement(t)},2*this.TIMING.STAGGER_BUTTONS+s*this.TIMING.STAGGER_CARDS)}),document.querySelectorAll(this.SLEEPY_SELECTORS.text).forEach((t,s)=>{setTimeout(()=>{t.classList.add("sleepy"),this.sleepyElements.push({element:t,type:"text"})},this.TIMING.STAGGER_BUTTONS+s*this.TIMING.STAGGER_TEXT)}),document.querySelectorAll(this.SLEEPY_SELECTORS.nav).forEach((t,s)=>{setTimeout(()=>{t.classList.add("sleepy"),this.sleepyElements.push({element:t,type:"nav"})},s*this.TIMING.STAGGER_NAV)});const e=document.querySelector(this.SLEEPY_SELECTORS.logo);e&&setTimeout(()=>{this.prepareElement(e),e.classList.add("sleepy"),this.sleepyElements.push({element:e,type:"logo"}),this.addZzzToElement(e),this.addSleepCap(e)},this.TIMING.STAGGER_BUTTONS),this.breathingTimeout=setTimeout(()=>{this.startBreathing()},this.TIMING.BREATHING_START),this.deepSleepTimeout=setTimeout(()=>{this.enterDeepSleep()},this.DEEP_SLEEP_DELAY)},prepareElement(e){window.getComputedStyle(e).position==="static"&&(e.dataset.sleepOriginalPosition="static",e.style.position="relative")},restoreElement(e){e.dataset.sleepOriginalPosition==="static"&&(e.style.position="",delete e.dataset.sleepOriginalPosition)},startBreathing(){this.isAsleep&&this.sleepyElements.forEach(({element:e})=>{e.classList.remove("sleepy"),e.classList.add("sleepy-breathing")})},enterDeepSleep(){if(!this.isAsleep||this.isDeepSleep)return;this.isDeepSleep=!0,this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null),document.body.classList.add("settling-to-sleep"),this.overlay&&this.overlay.classList.add("settling-to-sleep"),this.canvas&&(this.canvas.style.transition="opacity 1.5s ease-out",this.canvas.style.opacity="0");const e=this.overlay?.querySelector(".sleep-zs-container");e&&(e.style.transition="opacity 1.5s ease-out",e.style.opacity="0"),setTimeout(()=>{document.body.classList.remove("settling-to-sleep"),document.body.classList.add("deep-sleep"),this.overlay&&(this.overlay.classList.remove("settling-to-sleep"),this.overlay.classList.add("deep-sleep")),this.canvas&&(this.canvas.style.display="none"),e&&(e.innerHTML=""),this.cleanupDecorations()},1500),console.log("%c \u{1F634}\u{1F4A4} Settling into deep sleep... ","background: #0a0806; color: #666; padding: 5px; font-family: monospace; font-size: 9px;")},addZzzToElement(e){const t=document.createElement("div");t.className="element-zzz-container",t.style.cssText="position: absolute; top: -10px; right: -5px; pointer-events: none;";for(let s=0;s<this.DISPLAY.ZS_PER_ELEMENT;s++){const n=document.createElement("span");n.className="element-zzz",n.textContent="z",n.style.animationDelay=`${s*1}s`,t.appendChild(n)}e.appendChild(t),this.decorations.push(t)},addSleepCap(e){const t=document.createElement("span");t.className="sleep-cap",t.textContent="\u{1F9E2}",t.style.cssText="position: absolute; top: -20px; right: -15px; font-size: 1.5rem; transform: rotate(15deg); z-index: 50;",e.appendChild(t),this.decorations.push(t)},addSnoreBubble(e){const t=document.createElement("div");t.className="snore-bubble",t.textContent="zzz...",e.appendChild(t),this.decorations.push(t)},createOverlay(){this.overlay=document.createElement("div"),this.overlay.id="sleep-overlay",this.overlay.innerHTML=`
            <div class="sleep-scanlines"></div>
            <canvas id="sleep-canvas"></canvas>
            <div class="sleep-zs-container"></div>
            <div class="sleep-message">
                <span class="sleep-icon">\u{1F4A4}</span>
                <span class="sleep-text">tap to wake</span>
            </div>
        `,document.body.appendChild(this.overlay),this.canvas=document.getElementById("sleep-canvas"),this.ctx=this.canvas.getContext("2d"),this.resizeCanvas(),this.resizeHandler=()=>this.resizeCanvas(),window.addEventListener("resize",this.resizeHandler,{passive:!0}),requestAnimationFrame(()=>{this.overlay.classList.add("active")})},resizeCanvas(){this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight)},drawToaster(e,t,s){const n=this.ctx,i=this.CANVAS.PIXEL_SCALE,o={body:"#c4956a",dark:"#5c3d2e",slot:"#4a2c2a",wing:"#f5f0e6",wingDark:"#d4c4a8",highlight:"#e07b3c"};n.save(),n.translate(e,t),n.fillStyle=o.body,n.fillRect(0,4*i,12*i,8*i),n.fillStyle=o.dark,n.fillRect(0,10*i,12*i,2*i),n.fillStyle=o.slot,n.fillRect(2*i,5*i,3*i,4*i),n.fillRect(7*i,5*i,3*i,4*i),n.fillStyle=o.highlight,n.fillRect(2*i,3*i,3*i,2*i),n.fillRect(7*i,3*i,3*i,2*i);const a=s%2===0?0:-1*i;n.fillStyle=o.wing,n.fillRect(-4*i,(2+a/i)*i,4*i,6*i),n.fillStyle=o.wingDark,n.fillRect(-3*i,(3+a/i)*i,2*i,4*i),n.fillStyle=o.wing,n.fillRect(12*i,(2+a/i)*i,4*i,6*i),n.fillStyle=o.wingDark,n.fillRect(13*i,(3+a/i)*i,2*i,4*i),n.restore()},initToasters(){this.toasters=[];const t=window.innerWidth<this.DISPLAY.MOBILE_BREAKPOINT?this.DISPLAY.TOASTERS_MOBILE:Math.floor(window.innerWidth/200)*this.DISPLAY.TOASTERS_PER_200PX+2;for(let s=0;s<t;s++)this.toasters.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,speed:this.CANVAS.TOASTER_MIN_SPEED+Math.random()*this.CANVAS.TOASTER_SPEED_RANGE,wingFrame:Math.floor(Math.random()*10),wingSpeed:this.CANVAS.WING_SPEED_MIN+Math.floor(Math.random()*this.CANVAS.WING_SPEED_RANGE)})},initZs(){const e=this.overlay.querySelector(".sleep-zs-container");if(!e)return;const t=["small","medium","large"],n=window.innerWidth<this.DISPLAY.MOBILE_BREAKPOINT?this.DISPLAY.Z_COUNT_MOBILE:this.DISPLAY.Z_COUNT_DESKTOP;for(let i=0;i<n;i++){const o=document.createElement("div");o.className=`sleep-z ${t[i%3]}`,o.textContent="Z",o.style.left=`${10+Math.random()*80}%`,o.style.animationDelay=`${Math.random()*4}s`,o.style.animationDuration=`${4+Math.random()*3}s`,e.appendChild(o)}},startAnimation(){let e=0;const t=()=>{!this.isAsleep||!this.ctx||(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.toasters.forEach(s=>{s.x+=s.speed,s.y-=s.speed*.6;const n=this.CANVAS.WRAP_MARGIN;s.x>this.canvas.width+n&&(s.x=-n,s.y=Math.random()*this.canvas.height),s.y<-n&&(s.y=this.canvas.height+n,s.x=Math.random()*this.canvas.width),e%s.wingSpeed===0&&s.wingFrame++,this.drawToaster(s.x,s.y,s.wingFrame)}),e++,this.animationFrame=requestAnimationFrame(t))};t()},wakeUp(){this.isAsleep&&(this.prefersReducedMotion()||(this.overlay.classList.add("waking"),this.startleElements()),setTimeout(()=>{this.isAsleep=!1,this.isDeepSleep=!1,this.lastActivityTime=Date.now(),this.breathingTimeout&&(clearTimeout(this.breathingTimeout),this.breathingTimeout=null),this.deepSleepTimeout&&(clearTimeout(this.deepSleepTimeout),this.deepSleepTimeout=null),this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null),this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),document.body.classList.remove("page-sleeping","deep-sleep","settling-to-sleep"),document.body.classList.add("page-waking"),this.overlay&&(this.overlay.classList.remove("active"),this.overlay.classList.add("fading")),setTimeout(()=>{this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),this.overlay=null,this.canvas=null,this.ctx=null,this.wakeHandler=null,this.cleanupDecorations(),setTimeout(()=>{document.body.classList.remove("page-waking"),this.cleanupElementClasses()},this.TIMING.ELEMENT_CLEANUP_DELAY)},this.TIMING.OVERLAY_FADE),console.log("%c \u2600\uFE0F Good morning! FOGSIFT is awake and ready. ","background: #f5f0e6; color: #4a2c2a; padding: 10px; font-family: monospace; font-weight: bold;")},this.prefersReducedMotion()?0:this.TIMING.WAKE_FLASH_DURATION))},startleElements(){this.sleepyElements.forEach(({element:e,type:t},s)=>{setTimeout(()=>{e.classList.remove("sleepy","sleepy-breathing"),e.classList.add("startled"),t==="card"&&s<3&&this.addStartledMark(e),t==="button"&&s===0&&this.addStartledMark(e)},s*this.TIMING.STAGGER_STARTLE)})},addStartledMark(e){const t=document.createElement("span");t.className="startled-mark",t.textContent="!",t.style.cssText="position: absolute; top: -25px; right: -10px;",e.appendChild(t),this.decorations.push(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},this.TIMING.STARTLED_MARK_DURATION)},cleanupDecorations(){this.decorations.forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),this.decorations=[]},cleanupElementClasses(){this.sleepyElements.forEach(({element:e})=>{e.classList.remove("sleepy","sleepy-breathing","startled"),this.restoreElement(e)}),this.sleepyElements=[]},manualSleep(){this.isAsleep||this.enterSleepMode()}};window.SleepMode=SleepMode,document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".footer-links");if(e){const t=document.createElement("button");t.className="footer-sleep-btn",t.setAttribute("aria-label","Put site to sleep"),t.innerHTML="\u{1F4A4}",t.title="Put site to sleep",t.addEventListener("click",s=>{s.preventDefault(),SleepMode.manualSleep()}),e.appendChild(t)}}),(function(){"use strict";const e="fogsift_",t=e+"build",n={ttl:36e5,get available(){try{const i="__test__";return localStorage.setItem(i,i),localStorage.removeItem(i),!0}catch{return!1}},get(i){if(!this.available)return null;try{const o=localStorage.getItem(e+i);if(!o)return null;const{data:a,timestamp:r,buildTimestamp:l}=JSON.parse(o);if(Date.now()-r>this.ttl)return this._log("expired",i),this.remove(i),null;const c=this._getCurrentBuild();return c&&l&&l!==c?(this._log("build changed",i),this.clear(),null):a}catch(o){return this._log("error",`get ${i}: ${o.message}`),null}},set(i,o){if(this.available)try{const a={data:o,timestamp:Date.now(),buildTimestamp:this._getCurrentBuild()||o.buildTimestamp};localStorage.setItem(e+i,JSON.stringify(a)),this._log("set",i)}catch(a){this._log("error",`set ${i}: ${a.message}`),this._cleanup()}},remove(i){this.available&&localStorage.removeItem(e+i)},isValid(i){return this.get(i)!==null},clear(){if(!this.available)return;const i=Object.keys(localStorage).filter(o=>o.startsWith(e));i.forEach(o=>localStorage.removeItem(o)),this._log("cleared",`${i.length} entries`)},setBuildTimestamp(i){this.available&&localStorage.setItem(t,String(i))},_getCurrentBuild(){if(!this.available)return null;const i=localStorage.getItem(t);return i?parseInt(i,10):null},_cleanup(){if(!this.available)return;const i=[];for(let a=0;a<localStorage.length;a++){const r=localStorage.key(a);if(r.startsWith(e)&&r!==t)try{const l=JSON.parse(localStorage.getItem(r));i.push({key:r,timestamp:l.timestamp})}catch{localStorage.removeItem(r)}}i.sort((a,r)=>a.timestamp-r.timestamp);const o=Math.ceil(i.length/2);i.slice(0,o).forEach(a=>localStorage.removeItem(a.key)),this._log("cleanup",`removed ${o} entries`)},_log(i,o){typeof Debug<"u"&&Debug.log&&Debug.log("Cache",`${i}: ${o}`)}};window.Cache=n})(),(function(){"use strict";const e="fogsift_debug",t="[FOGSIFT]",s={module:"color: #6b7280; font-weight: bold;",api:"color: #059669; font-weight: bold;",component:"color: #7c3aed; font-weight: bold;",error:"color: #dc2626; font-weight: bold;",success:"color: #16a34a;",timing:"color: #d97706;",default:"color: #374151;"},n={enabled:!1,prefix:t,init(){try{this.enabled=localStorage.getItem(e)==="true",this.enabled&&console.log(`%c${t} Debug mode enabled`,s.success)}catch{}},enable(){this.enabled=!0;try{localStorage.setItem(e,"true")}catch{}console.log(`%c${t} Debug mode enabled`,s.success),console.log(`%c${t} Use Debug.disable() to turn off`,s.default)},disable(){this.enabled=!1;try{localStorage.removeItem(e)}catch{}console.log(`%c${t} Debug mode disabled`,s.default)},log(i,o,a){if(!this.enabled)return;const r=`%c${t} %c[${i}] %c${o}`;a!==void 0?console.log(r,s.default,s.module,s.default,a):console.log(r,s.default,s.module,s.default)},api(i,o,a){if(!this.enabled)return;const r=o>=200&&o<300?s.success:s.error,l=`%c${t} %c[API] %c${i} %c${o} %c(${a}ms)`;console.log(l,s.default,s.api,s.default,r,s.timing)},component(i,o,a){if(!this.enabled)return;const r=`%c${t} %c[${i}] %c${o}`;a!==void 0?console.log(r,s.default,s.component,s.default,a):console.log(r,s.default,s.component,s.default)},error(i,o){const a=o instanceof Error?o.message:o;console.error(`%c${t} %c[${i}] %c${a}`,s.default,s.error,s.error)},group(i,o){this.enabled&&(console.group(`${t} ${i}`),o(),console.groupEnd())},table(i,o){this.enabled&&(console.log(`%c${t} ${i}:`,s.module),console.table(o))}};n.init(),window.Debug=n})(),(function(){"use strict";const e="/api",t={async loadIndex(){return this._fetch("/wiki/index.json")},async loadSitemap(){return this._fetch("/wiki/sitemap.json")},async loadArticles(){return this._fetch("/articles.json")},async loadMeta(){return this._fetch("/meta.json")},async _fetch(s){const n=`${e}${s}`,i=performance.now();try{if(typeof Cache<"u"&&Cache.isValid){const l=Cache.get(s);if(l)return this._log("cache hit",s),l}const o=await fetch(n);if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);const a=await o.json(),r=Math.round(performance.now()-i);return this._logApi(s,o.status,r),typeof Cache<"u"&&Cache.set&&Cache.set(s,a),a}catch(o){throw this._log("error",`${s}: ${o.message}`),o}},_logApi(s,n,i){typeof Debug<"u"&&Debug.api&&Debug.api(s,n,i)},_log(s,n){typeof Debug<"u"&&Debug.log&&Debug.log("WikiAPI",`${s}: ${n}`)}};window.WikiAPI=t})();const Monte={TIMING:{SHOW_HEART:1200,SHUFFLE_STEP:350,SHUFFLE_COUNT:5,REVEAL_DELAY:600,SHAKE_DURATION:500},EMOJIS:["\u{1F3E1}","\u{1F324}","\u{1F52D}"],state:"idle",heartIndex:0,cards:[],positions:[0,1,2],statusEl:null,init(){if(this.cards=Array.from(document.querySelectorAll(".hero-emoji-char")),this.cards.length===3){var e=this;this.cards.forEach(function(i){i.style.cursor="pointer",i.addEventListener("click",function(o){e._handleClick(o)})});var t=document.createElement("div");t.className="monte-status",t.setAttribute("aria-live","polite");var s=this.cards[0].parentElement;s.parentElement.insertBefore(t,s.nextSibling),this.statusEl=t;var n=document.getElementById("monte-popup");n&&n.addEventListener("click",function(i){i.target===n&&Monte.closePopup()}),document.addEventListener("keydown",function(i){i.key==="Escape"&&Monte.closePopup()})}},_handleClick:function(e){var t=e.currentTarget,s=Monte.cards.indexOf(t);Monte.state==="idle"?Monte.start():Monte.state==="guessing"?Monte.guess(s):Monte.state==="reveal"&&Monte.reset()},setStatus:function(e,t){this.statusEl&&(this.statusEl.textContent=e,this.statusEl.className="monte-status"+(t?" "+t:""))},start(){if(this.state==="idle"){this.state="showing",this.setStatus("");var e=this;this.cards.forEach(function(t){t.style.animation="none",t.style.cursor="default",t.classList.add("monte-active")}),this.heartIndex=Math.floor(Math.random()*3),this.positions=[0,1,2],setTimeout(function(){e.showHeart()},400)}},showHeart(){var e=this;this.cards.forEach(function(t,s){t.dataset.monteIdx=s,s===e.heartIndex?(t.dataset.monte="heart",t.textContent="\u2764\uFE0F",t.classList.add("monte-heart")):(t.dataset.monte="decoy",t.textContent="\u{1F0A0}",t.classList.add("monte-back"))}),setTimeout(function(){e.cards.forEach(function(t){t.textContent="\u{1F0A0}",t.classList.remove("monte-heart"),t.classList.add("monte-back")}),setTimeout(function(){e.shuffle(0)},300)},this.TIMING.SHOW_HEART)},shuffle(e){if(e>=this.TIMING.SHUFFLE_COUNT){this.state="guessing",this.enableGuessing();return}this.state="shuffling";var t=Math.floor(Math.random()*3),s=(t+1+Math.floor(Math.random()*2))%3,n=this.positions[t];this.positions[t]=this.positions[s],this.positions[s]=n,this.animateSwap(t,s);var i=this;setTimeout(function(){i.shuffle(e+1)},this.TIMING.SHUFFLE_STEP)},animateSwap(e,t){var s=this.cards[e],n=this.cards[t],i=s.getBoundingClientRect(),o=n.getBoundingClientRect(),a=o.left-i.left;s.style.transition="transform "+this.TIMING.SHUFFLE_STEP+"ms cubic-bezier(0.4, 0, 0.2, 1)",n.style.transition="transform "+this.TIMING.SHUFFLE_STEP+"ms cubic-bezier(0.4, 0, 0.2, 1)",s.style.transform="translateX("+a+"px) translateY(-8px)",n.style.transform="translateX("+-a+"px) translateY(8px)";var r=this;setTimeout(function(){s.style.transition="none",n.style.transition="none",s.style.transform="",n.style.transform="";var l=s.parentElement,c=document.createElement("span");l.replaceChild(c,s),l.replaceChild(s,n),l.replaceChild(n,c),r.cards=Array.from(l.querySelectorAll(".hero-emoji-char"))},r.TIMING.SHUFFLE_STEP-20)},enableGuessing(){this.setStatus("Pick one!",""),this.cards.forEach(function(e){e.classList.add("monte-guess"),e.style.cursor="pointer"})},guess(e){this.state==="guessing"&&(this.state="reveal",this.cards.forEach(function(t){t.classList.remove("monte-guess"),t.style.cursor="default"}),this.setStatus(""),this.revealAll(e))},revealAll(e){var t=this,s=!1;this.cards.forEach(function(n,i){if(n.classList.remove("monte-back"),n.dataset.monte==="heart")n.textContent="\u2764\uFE0F",n.classList.add("monte-heart"),i===e&&(s=!0);else{var o=parseInt(n.dataset.monteIdx);n.textContent=t.EMOJIS[o]}}),this.cards[e].classList.add("monte-picked"),setTimeout(function(){s?t.win():t.lose()},this.TIMING.REVEAL_DELAY)},win(){var e=this;this.cards.forEach(function(t){t.classList.add("monte-celebrate")}),this.setStatus("\u2764\uFE0F You found it!","monte-win-text"),setTimeout(function(){e.openPopup()},800)},lose(){var e=this;this.cards[0].parentElement.classList.add("monte-shake"),this.setStatus("Not quite! Click to try again.",""),this.cards.forEach(function(t){t.style.cursor="pointer"}),setTimeout(function(){e.cards[0].parentElement.classList.remove("monte-shake")},this.TIMING.SHAKE_DURATION)},reset(){var e=this;this.state="idle",this.cards.forEach(function(t,s){t.textContent=e.EMOJIS[s],t.className="hero-emoji-char",t.style.cssText="cursor: pointer;",t.removeAttribute("data-monte"),t.removeAttribute("data-monte-idx")}),this.setStatus(""),this.positions=[0,1,2]},openPopup(){var e=document.getElementById("monte-popup");e&&(document.body.classList.add("scroll-locked"),e.style.display="flex",e.offsetHeight,e.classList.add("is-open"))},closePopup(){var e=document.getElementById("monte-popup");if(e){e.classList.remove("is-open"),document.body.classList.remove("scroll-locked");var t=this;setTimeout(function(){e.style.display="none",t.reset()},300)}}};var StarParticles={chars:["\u2605","\u2606","\u2726","\u2727","\u2736","\xB7"],pool:[],poolSize:20,container:null,init:function(){this.container=document.createElement("div"),this.container.className="star-particles",this.container.setAttribute("aria-hidden","true"),document.body.appendChild(this.container);for(var e=0;e<this.poolSize;e++){var t=document.createElement("span");t.className="star-particle",this.container.appendChild(t),this.pool.push({el:t,active:!1})}},burst:function(e,t,s,n){if(this.container){s=s||8,n=n||1;var i=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(!i)for(var o=0;o<s;o++){var a=this._getParticle();if(!a)break;var r=Math.PI*2*o/s+(Math.random()-.5)*.8,l=(40+Math.random()*60)*n,c=Math.cos(r)*l,d=Math.sin(r)*l-20,m=8+Math.random()*10,p=500+Math.random()*400,u=(Math.random()-.5)*720;a.el.textContent=this.chars[Math.floor(Math.random()*this.chars.length)],a.el.style.cssText="left:"+e+"px;top:"+t+"px;font-size:"+m+"px;opacity:1;transform:translate(0,0) rotate(0deg);transition:transform "+p+"ms cubic-bezier(.2,.8,.3,1),opacity "+p+"ms ease-out;",a.active=!0,a.el.offsetHeight,a.el.style.transform="translate("+c+"px,"+d+"px) rotate("+u+"deg)",a.el.style.opacity="0",(function(h,f){setTimeout(function(){h.active=!1},f+50)})(a,p)}}},_getParticle:function(){for(var e=0;e<this.pool.length;e++)if(!this.pool[e].active)return this.pool[e];return null}},GoldStar={el:null,angle:6,dragging:!1,lastX:0,lastY:0,velocity:0,rafId:null,hasMoved:!1,spinCount:0,PHRASES:["Gold Star","Top Notch","A+ Work","Nailed It","Chef's Kiss","Certified","Five Stars","Well Done","Bravo","Sharp","On Point","First Rate","Solid Gold","No Notes","Spot On","Crushed It"],init:function(){if(this.el=document.querySelector(".gold-star"),!!this.el){var e=this.el.querySelector("span");e&&(e.textContent=this.PHRASES[Math.floor(Math.random()*this.PHRASES.length)]),StarParticles.init();var t=this;this.el.addEventListener("mousedown",function(s){t.onStart(s.clientX,s.clientY),s.preventDefault()}),document.addEventListener("mousemove",function(s){t.dragging&&t.onMove(s.clientX,s.clientY)}),document.addEventListener("mouseup",function(){t.onEnd()}),this.el.addEventListener("touchstart",function(s){var n=s.touches[0];t.onStart(n.clientX,n.clientY),s.preventDefault()},{passive:!1}),document.addEventListener("touchmove",function(s){if(t.dragging){var n=s.touches[0];t.onMove(n.clientX,n.clientY)}},{passive:!0}),document.addEventListener("touchend",function(){t.onEnd()})}},_emitParticles:function(e){var t=this.el.getBoundingClientRect(),s=t.left+t.width/2,n=t.top+t.height/2,i=Math.min(12,Math.max(4,Math.floor(Math.abs(e)*.6)));StarParticles.burst(s,n,i,Math.min(2,Math.abs(e)*.15))},onStart:function(e,t){this.dragging=!0,this.hasMoved=!1,this.lastX=e,this.lastY=t,this.velocity=0,this.el.classList.add("spinning"),this.rafId&&cancelAnimationFrame(this.rafId)},onMove:function(e,t){var s=e-this.lastX,n=t-this.lastY;(Math.abs(s)>2||Math.abs(n)>2)&&(this.hasMoved=!0);var i=s+n*.3;this.angle+=i*.8,this.velocity=i*.8,this.lastX=e,this.lastY=t,this.el.style.transform="rotate("+this.angle+"deg)",Math.abs(this.velocity)>5&&this._emitParticles(this.velocity)},onEnd:function(){this.dragging&&(this.dragging=!1,this.el.classList.remove("spinning"),this.hasMoved?(Math.abs(this.velocity)>3&&this._emitParticles(this.velocity*2),this.coast()):this.quickSpin())},coast:function(){var e=this;if(Math.abs(this.velocity)<.3){this.velocity=0;return}this.velocity*=.95,this.angle+=this.velocity,this.el.style.transform="rotate("+this.angle+"deg)",this.rafId=requestAnimationFrame(function(){e.coast()})},quickSpin:function(){var e=this;this.spinCount++;var t=360+Math.random()*360;this.angle+=t,this.el.style.transition="transform 1.2s cubic-bezier(0.2, 0.8, 0.3, 1)",this.el.style.transform="rotate("+this.angle+"deg)",this._emitParticles(20),setTimeout(function(){e._emitParticles(12)},300),setTimeout(function(){e.el.style.transition=""},1200)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){Monte.init(),GoldStar.init()}):(Monte.init(),GoldStar.init());const SiteSearch={index:null,overlay:null,input:null,results:null,counter:null,isOpen:!1,_loading:!1,getCurrentPage(){const t=window.location.pathname.replace(/^\//,"").replace(/\/$/,"")||"index.html",s=t.endsWith(".html")?t:t+".html",n=s.replace(".html","");return{pageFile:s,clean:n}},scanCurrentPage(){const e=document.querySelector("main")||document.body,t=[];return e.querySelectorAll("section, .process-step, .pricing-card, details, .about-card, .testimonial-card").forEach(n=>{const i=n.querySelector("h1, h2, h3, h4, summary"),o=i?i.textContent.trim():"",a=n.textContent.trim().substring(0,300),r=n.id||i&&i.id||"";a.length>10&&t.push({heading:o,text:a,id:r,element:n})}),t},toggle(){this.isOpen?this.close():this.open()},open(){this.overlay||this.buildOverlay(),this.isOpen=!0,this.overlay.classList.add("open"),document.body.style.overflow="hidden",requestAnimationFrame(()=>{this.input.focus()}),this.loadIndex()},close(){this.overlay&&(this.isOpen=!1,this.overlay.classList.remove("open"),document.body.style.overflow="",this.input.value="",this.results.innerHTML="",this.counter.textContent="")},buildOverlay(){this.overlay=document.createElement("div"),this.overlay.className="search-overlay",this.overlay.setAttribute("role","dialog"),this.overlay.setAttribute("aria-modal","true"),this.overlay.setAttribute("aria-label","Site search");const e=document.title.replace(/\s*\|.*$/,"").trim();this.overlay.innerHTML=`
            <div class="search-overlay-backdrop"></div>
            <div class="search-panel">
                <div class="search-panel-header">
                    <div class="search-input-wrap">
                        <svg class="search-input-icon" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                            <circle cx="10" cy="10" r="7" fill="var(--burnt-orange, #e07b3c)" opacity="0.3"/>
                            <circle cx="10" cy="10" r="7" fill="none" stroke="currentColor" stroke-width="2"/>
                            <line x1="15.5" y1="15.5" x2="21" y2="21" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                        </svg>
                        <input type="search" class="search-panel-input" placeholder="Search this page &amp; all of FogSift..." aria-label="Search" autocomplete="off" spellcheck="false">
                        <kbd class="search-kbd">/</kbd>
                        <button class="search-close-btn" aria-label="Close search">&times;</button>
                    </div>
                    <div class="search-context-bar">
                        <span class="search-context-page">
                            <svg viewBox="0 0 16 16" width="12" height="12" aria-hidden="true"><circle cx="8" cy="8" r="4" fill="var(--burnt-orange, #e07b3c)"/></svg>
                            ${this.escapeHtml(e)}
                        </span>
                    </div>
                </div>
                <div class="search-panel-body">
                    <div class="search-results"></div>
                    <span class="search-counter" aria-live="polite"></span>
                </div>
            </div>
        `,document.body.appendChild(this.overlay),this.input=this.overlay.querySelector(".search-panel-input"),this.results=this.overlay.querySelector(".search-results"),this.counter=this.overlay.querySelector(".search-counter"),this.overlay.querySelector(".search-overlay-backdrop").addEventListener("click",()=>this.close()),this.overlay.querySelector(".search-close-btn").addEventListener("click",()=>this.close()),this.input.addEventListener("input",()=>this.onSearch()),this.input.addEventListener("keydown",s=>{if(s.key==="Escape"&&this.close(),s.key==="ArrowDown"){s.preventDefault();const n=this.results.querySelector(".search-result-card");n&&n.focus()}}),this.results.addEventListener("keydown",s=>{const n=[...this.results.querySelectorAll(".search-result-card")],i=n.indexOf(document.activeElement);s.key==="ArrowDown"&&i<n.length-1?(s.preventDefault(),n[i+1].focus()):s.key==="ArrowUp"?(s.preventDefault(),i>0?n[i-1].focus():this.input.focus()):s.key==="Escape"&&this.close()});const t=this.overlay.querySelector(".search-kbd");this.input.addEventListener("focus",()=>{t.style.display="none"}),this.input.addEventListener("blur",()=>{this.input.value||(t.style.display="")})},async loadIndex(){if(!(this.index||this._loading)){this._loading=!0;try{let e=await fetch("search-index.json");e.ok||(e=await fetch("/search-index.json")),e.ok&&(this.index=await e.json())}catch(e){typeof Debug<"u"&&Debug.log("SiteSearch","Could not load search index:",e.message)}this._loading=!1}},onSearch(){const e=this.input.value.toLowerCase().trim();if(!e){this.results.innerHTML="",this.counter.textContent="";return}const t=e.split(/\s+/).filter(Boolean),s=this.getCurrentPage(),n=this.scanCurrentPage();let i="",o=0;const a=[];for(const r of n){const l=r.text.toLowerCase(),c=r.heading.toLowerCase();let d=0;for(const m of t)c.includes(m)&&(d+=10),l.includes(m)&&(d+=1);d>0&&a.push({section:r,score:d})}if(a.sort((r,l)=>l.score-r.score),a.length>0&&(i+='<div class="search-group">',i+='<div class="search-group-label">ON THIS PAGE</div>',i+=a.slice(0,5).map((r,l)=>{const c=r.section,d=this.highlightSnippet(c.text,t);return`<a href="${c.id?"#"+c.id:""}" class="search-result-card search-result-local" tabindex="0" style="animation-delay: ${l*40}ms" onclick="SiteSearch.scrollToSection('${c.id}'); return false;">
                    <div class="search-result-top">
                        <span class="search-result-category">This page</span>
                        <span class="search-result-title">${this.highlightText(c.heading||"Section",t)}</span>
                    </div>
                    ${d?`<p class="search-result-snippet">${d}</p>`:""}
                </a>`}).join(""),i+="</div>",o+=a.length),this.index){const r=[];for(const c of this.index){const d=c.url===s.pageFile||c.url===s.clean||c.url===s.clean+"/"||c.url===s.pageFile.replace("index.html","");let m=0;const p=(c.title||"").toLowerCase(),u=(c.description||"").toLowerCase(),h=(c.headings||[]).join(" ").toLowerCase(),f=(c.content||"").toLowerCase();for(const g of t)p.includes(g)&&(m+=10),u.includes(g)&&(m+=5),h.includes(g)&&(m+=3),f.includes(g)&&(m+=1);m>0&&(d&&(m*=.3),r.push({entry:c,score:m,isCurrentPage:d}))}r.sort((c,d)=>d.score-c.score);const l=a.length>0?r.filter(c=>!c.isCurrentPage):r;if(l.length>0){const c=a.length>0?a.length*40:0;i+='<div class="search-group">',i+='<div class="search-group-label">ALL PAGES</div>',i+=l.map((d,m)=>{const p=d.entry,u=this.highlightSnippet(p.description||p.content,t),h=(p.headings||[]).slice(0,3).map(f=>this.highlightText(f,t)).join(" &middot; ");return`<a href="${p.url}" class="search-result-card" tabindex="0" style="animation-delay: ${c+m*40}ms">
                        <div class="search-result-top">
                            <span class="search-result-category">${p.category||""}</span>
                            <span class="search-result-title">${this.highlightText(p.title,t)}</span>
                        </div>
                        ${u?`<p class="search-result-snippet">${u}</p>`:""}
                        ${h?`<div class="search-result-headings">${h}</div>`:""}
                    </a>`}).join(""),i+="</div>",o+=l.length}}else i+='<div class="search-empty">Loading site index...</div>';o===0&&this.index&&(i='<div class="search-empty">No results found</div>'),this.results.innerHTML=i,this.counter.textContent=o>0?o+" result"+(o!==1?"s":""):""},scrollToSection(e){if(this.close(),!e)return;const t=document.getElementById(e);if(t){const s=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--nav-height"))||70,n=t.getBoundingClientRect().top+window.scrollY-s-20;window.scrollTo({top:n,behavior:"smooth"}),t.style.transition="outline 0.3s ease, outline-offset 0.3s ease",t.style.outline="3px solid var(--burnt-orange)",t.style.outlineOffset="8px",setTimeout(()=>{t.style.outline="",t.style.outlineOffset=""},1500)}},highlightText(e,t){if(!e)return"";let s=this.escapeHtml(e);for(const n of t){const i=new RegExp("("+n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+")","gi");s=s.replace(i,'<mark class="search-hl">$1</mark>')}return s},highlightSnippet(e,t){if(!e)return"";const s=e.toLowerCase();let n=-1;for(const o of t){const a=s.indexOf(o);a!==-1&&(n===-1||a<n)&&(n=a)}let i;return n>30?i="..."+e.substring(n-30,n+120):i=e.substring(0,150),i.length<e.length&&(i+="..."),this.highlightText(i,t)},escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML},initKeyboard(){document.addEventListener("keydown",e=>{e.key==="/"&&!e.ctrlKey&&!e.metaKey&&!["INPUT","TEXTAREA","SELECT"].includes(document.activeElement.tagName)&&(e.preventDefault(),this.open()),(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),this.toggle()),e.key==="Escape"&&this.isOpen&&this.close()})}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>SiteSearch.initKeyboard()):SiteSearch.initKeyboard();const CookieConsent={STORAGE_KEY:"fogsift-cookie-consent",BANNER_ID:"cookie-consent-banner",TIMING:{SHOW_DELAY:800,FADE_DURATION:300},init(){try{if(localStorage.getItem(this.STORAGE_KEY))return}catch{return}setTimeout(()=>this._createBanner(),this.TIMING.SHOW_DELAY)},accept(){this._save("accepted"),this._hideBanner()},decline(){this._save("declined"),this._hideBanner()},_save(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify({choice:e,timestamp:new Date().toISOString()}))}catch{}},_hideBanner(){const e=document.getElementById(this.BANNER_ID);e&&(e.style.opacity="0",e.style.transform="translateY(20px)",setTimeout(()=>e.remove(),this.TIMING.FADE_DURATION))},_createBanner(){if(document.getElementById(this.BANNER_ID))return;const e=document.createElement("div");e.id=this.BANNER_ID,e.setAttribute("role","dialog"),e.setAttribute("aria-label","Cookie consent"),e.innerHTML=`
            <div class="cookie-consent-inner">
                <p class="cookie-consent-text">
                    This site uses cookies and localStorage for theme preferences and analytics.
                    No data is sold or shared with third parties.
                </p>
                <div class="cookie-consent-actions">
                    <button class="cookie-consent-btn cookie-consent-accept" id="cookie-accept">Accept</button>
                    <button class="cookie-consent-btn cookie-consent-decline" id="cookie-decline">Decline</button>
                </div>
            </div>
        `,e.style.opacity="0",e.style.transform="translateY(20px)",document.body.appendChild(e),e.offsetHeight,requestAnimationFrame(()=>{e.style.opacity="1",e.style.transform="translateY(0)"}),document.getElementById("cookie-accept").addEventListener("click",()=>this.accept()),document.getElementById("cookie-decline").addEventListener("click",()=>this.decline())},hasConsent(){try{const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e).choice==="accepted":!1}catch{return!1}}};window.CookieConsent=CookieConsent;const SvgComponents={_observer:null,_encoder:null,init(){this.initScrollAnimations(),this.initEncoder(),this.initTypewriterHook(),this.initStatDonuts()},initScrollAnimations(){const e=document.querySelectorAll(".svg-step, .svg-stat");if(!("IntersectionObserver"in window))return;e.forEach(s=>s.classList.add("svg-step--will-animate"));const t=setTimeout(()=>{e.forEach(s=>s.classList.add("is-visible"))},2e3);this._observer=new IntersectionObserver(s=>{s.forEach(n=>{n.isIntersecting&&(n.target.classList.add("is-visible"),this._observer.unobserve(n.target))})},{threshold:.15,rootMargin:"0px"}),e.forEach(s=>this._observer.observe(s)),this._fallbackTimer=t},initStatDonuts(){document.querySelectorAll(".svg-stat").forEach(t=>{const s=parseFloat(t.dataset.value||0),n=parseFloat(t.dataset.max||100),o=314*(1-Math.min(s/n,1)),a=t.querySelector(".svg-donut__segment");a&&(a.style.setProperty("--donut-target",o),a.style.strokeDashoffset=314)})},initEncoder(){const e=document.getElementById("svg-encoder");if(!e)return;const t=e.querySelector(".svg-encoder__knob-group"),s=e.querySelector(".svg-encoder__arc"),n=document.getElementById("svg-encoder-value"),i=document.getElementById("svg-encoder-desc");if(!t||!s||!n||!i)return;const o=[{angle:-135,value:"$5",desc:"Field Guide PDF",arc:0},{angle:0,value:"$20",desc:"Report + Video Response",arc:251},{angle:135,value:"$500",desc:"Deep Dive Engagement",arc:503}],a=503;let r=!1,l=1,c=0;const d=u=>{const h=e.getBoundingClientRect(),f=h.left+h.width/2,g=h.top+h.height/2,v=u.clientX,y=u.clientY;let E=Math.atan2(y-g,v-f)*(180/Math.PI)+90;return E>180&&(E-=360),E},m=u=>{let h=0,f=1/0;return o.forEach((g,v)=>{const y=Math.abs(u-g.angle);y<f&&(f=y,h=v)}),h},p=u=>{if(u===l)return;l=u;const h=o[u];n.textContent=h.value,i.textContent=h.desc,s.style.strokeDashoffset=a-h.arc,t.style.transform=`rotate(${h.angle}deg)`};p(1),t.style.transform="rotate(0deg)",e.addEventListener("pointerdown",u=>{r=!0,e.setPointerCapture(u.pointerId),u.preventDefault()}),e.addEventListener("pointermove",u=>{if(!r)return;const h=d(u),f=Math.max(-135,Math.min(135,h));c=f,t.style.transform=`rotate(${f}deg)`;const g=m(f);p(g)}),e.addEventListener("pointerup",()=>{r=!1}),e.addEventListener("pointercancel",()=>{r=!1}),this._encoder={applyTier:p,TIERS:o}},initTypewriterHook(){const e=document.querySelector(".rotating-highlight span[data-words]");if(!e)return;e.classList.add("svg-typewriter-active");const t=()=>{e.classList.remove("svg-typewriter-active"),e.offsetWidth,e.classList.add("svg-typewriter-active")};new MutationObserver(n=>{n.forEach(i=>{(i.type==="characterData"||i.type==="childList")&&t()})}).observe(e,{characterData:!0,childList:!0,subtree:!0})},destroy(){this._observer&&(this._observer.disconnect(),this._observer=null)}},App={TIMING:{WORD_ROTATE_INTERVAL:2500,WORD_FADE_DURATION:300,EASTER_EGG_EFFECT:500,CLOCK_UPDATE:1e3},_intervals:[],_konamiCode:["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],_konamiIndex:0,init(){typeof Nav<"u"&&Nav.init&&Nav.init(),typeof Modal<"u"&&Modal.init&&Modal.init(),this.initClock(),this.initAccessibility(),this.initRotatingWords(),this.initKonami(),this.initHoneypot(),this.logBoot(),typeof SleepMode<"u"&&SleepMode.init&&SleepMode.init(),typeof CookieConsent<"u"&&CookieConsent.init&&CookieConsent.init(),typeof SvgComponents<"u"&&SvgComponents.init&&SvgComponents.init()},initHoneypot(){document.querySelectorAll('a[data-honeypot="true"]').forEach(e=>{e.addEventListener("click",t=>{const s=e.parentElement?.querySelector(".hp-field input");s&&s.checked&&(t.preventDefault(),console.log("%c \u{1F916} Bot detected ","background: #dc2626; color: white; padding: 5px;"))})})},initClock(){const e=document.getElementById("utc-clock");if(!e)return;const t=()=>{const s=new Date;e.textContent=s.toISOString().replace("T"," ").substring(0,19)+" UTC"};t(),this._intervals.push(setInterval(t,this.TIMING.CLOCK_UPDATE))},initAccessibility(){const e=document.querySelector(".theme-toggle");if(e){const i=()=>{const a=document.documentElement.getAttribute("data-theme")==="dark";e.setAttribute("aria-pressed",a?"true":"false")};i(),new MutationObserver(i).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})}const t=document.querySelector(".menu-toggle"),s=document.getElementById("mobile-drawer");if(t&&s){const i=()=>{const a=s.classList.contains("open");t.setAttribute("aria-expanded",a?"true":"false")};new MutationObserver(i).observe(s,{attributes:!0,attributeFilter:["class"]})}s&&s.addEventListener("keydown",i=>{i.key==="Escape"&&Nav.toggleMobile()});const n=document.getElementById("article-modal");n&&n.addEventListener("keydown",i=>{i.key==="Escape"&&Modal.close()})},initRotatingWords(){document.querySelectorAll("[data-words]").forEach(t=>{const s=t.dataset.words;if(!s)return;let n;try{n=JSON.parse(s)}catch{return}if(!Array.isArray(n)||n.length<2)return;let i=0;const o=t.textContent;let a=0;for(const r of n)t.textContent=r,a=Math.max(a,t.scrollWidth);t.style.minWidth=a+"px",t.textContent=o,this._intervals.push(setInterval(()=>{t.style.opacity="0",setTimeout(()=>{i=(i+1)%n.length,t.textContent=n[i],t.style.opacity="1"},this.TIMING.WORD_FADE_DURATION)},this.TIMING.WORD_ROTATE_INTERVAL))})},initKonami(){document.addEventListener("keydown",e=>{e.key===this._konamiCode[this._konamiIndex]?(this._konamiIndex++,this._konamiIndex===this._konamiCode.length&&(this._konamiIndex=0,this.triggerEasterEgg())):this._konamiIndex=0})},triggerEasterEgg(){console.log("%c"+`
    \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
    \u2591  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2557     \u2588\u2588\u2557     \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557
    \u2591  \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255D\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255D     \u2588\u2588\u2551     \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255D\u255A\u2550\u2550\u2588\u2588\u2554\u2550\u2550\u255D
    \u2591  \u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2551  \u2588\u2588\u2588\u2557    \u2588\u2588\u2551     \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2557     \u2588\u2588\u2551
    \u2591  \u2588\u2588\u2554\u2550\u2550\u255D  \u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551    \u2588\u2588\u2551     \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u255D     \u2588\u2588\u2551
    \u2591  \u2588\u2588\u2551     \u255A\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u255A\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551\u2588\u2588\u2551        \u2588\u2588\u2551
    \u2591  \u255A\u2550\u255D      \u255A\u2550\u2550\u2550\u2550\u2550\u255D  \u255A\u2550\u2550\u2550\u2550\u2550\u255D     \u255A\u2550\u2550\u2550\u2550\u2550\u2550\u255D\u255A\u2550\u255D\u255A\u2550\u255D        \u255A\u2550\u255D
    \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
        `,"color: #e07b3c; font-family: monospace;"),console.log("%c \u{1F3AE} KONAMI CODE ACTIVATED! ","background: #0d9488; color: white; padding: 10px; font-size: 16px; font-weight: bold;"),console.log("%c You found the secret! Here's a fortune cookie: ","color: #4a2c2a; font-style: italic;");const t=["\u{1F52E} The fog will clear when you stop looking for the sun.","\u{1F52E} Your next breakthrough is hiding in plain sight.","\u{1F52E} Sometimes the answer is a better question.","\u{1F52E} Complexity is easy. Simplicity takes courage.","\u{1F52E} The bottleneck is rarely where you think it is.",'\u{1F52E} Ask "why" five times. The truth lives on the fifth floor.',"\u{1F52E} Your gut knows things your spreadsheet never will.","\u{1F52E} The best documentation is the kind you wish existed."];console.log("%c "+t[Math.floor(Math.random()*t.length)],"color: #e07b3c; font-size: 14px; padding: 5px;");const s=this.TIMING.EASTER_EGG_EFFECT;document.body.style.transition=`filter ${s/1e3}s`,document.body.style.filter="hue-rotate(180deg)",setTimeout(()=>{document.body.style.filter="hue-rotate(360deg)",setTimeout(()=>{document.body.style.filter="none"},s)},s)},logBoot(){console.log("%c FOGSIFT // SYSTEMS NOMINAL ","background: #4a2c2a; color: #e07b3c; padding: 10px; font-family: monospace; font-weight: bold; border-left: 5px solid #0d9488;"),console.log('%c \u2328\uFE0F  Press "T" to cycle themes ',"color: #e07b3c; font-family: monospace; font-size: 10px;"),console.log("%c \u{1F3AE} ...or try the old ways. ","color: #999; font-family: monospace; font-size: 10px;")}},ExampleModal={examples:{inventory:{title:"Inventory Count Mismatch",category:"Operations",problem:"A distribution company noticed their inventory counts never matched between their warehouse system and accounting software. Every month, they spent days reconciling discrepancies.",process:"We traced the data flow between systems and found two different rounding rules being applied. The warehouse system rounded to nearest unit, while accounting rounded down.",solution:"Aligned the rounding rules in both systems and added a daily automated check. Problem solved in one session.",outcome:"Diagnosis + fix"},tuesday:{title:"Tuesday Crashes",category:"Technical",problem:"A SaaS company reported their app crashed every Tuesday around 2 PM. Support tickets spiked, and the team couldn't figure out why.",process:"We looked at server logs and noticed a pattern: memory usage spiked right before crashes. Cross-referenced with scheduled tasks.",solution:"A weekly report generation cron job ran at 2 PM Tuesday, coinciding with peak user traffic. Moving it to 3 AM eliminated the crashes.",outcome:"Root cause + fix"},buildbuy:{title:"Build vs. Buy Decision",category:"Strategy",problem:"A startup needed inventory management. The CTO wanted to build custom. The CEO wanted to buy off-the-shelf. They'd been stuck for months.",process:"We mapped out hidden costs: build time, maintenance burden, opportunity cost. Also mapped timing risk and team capacity.",solution:"Recommendation: buy an existing solution now to move fast, plan migration to custom build in 18 months when you have more data on actual needs.",outcome:"Decision framework"},signups:{title:"Stalled Signups",category:"Marketing",problem:"A B2B SaaS saw signups plateau despite increased ad spend. Traffic was up, but conversions weren't following.",process:"We walked through the signup flow live, clicking through like a real user. Found three major friction points.",solution:"Fixed: confusing pricing toggle, broken mobile layout on signup form, and a required field that shouldn't have been required.",outcome:"Funnel fixes + roadmap"}},open(e){const t=this.examples[e];if(!t)return;const s=document.getElementById("article-modal"),n=document.getElementById("modal-title"),i=document.getElementById("modal-body");!s||!n||!i||(n.textContent=t.title,i.innerHTML=`
            <p style="font-family: var(--font-mono); font-size: var(--text-xs); text-transform: uppercase; color: var(--muted); margin-bottom: var(--space-md);">${t.category}</p>
            <h3 style="font-size: var(--text-lg); margin-bottom: var(--space-sm);">The Problem</h3>
            <p style="margin-bottom: var(--space-md);">${t.problem}</p>
            <h3 style="font-size: var(--text-lg); margin-bottom: var(--space-sm);">The Process</h3>
            <p style="margin-bottom: var(--space-md);">${t.process}</p>
            <h3 style="font-size: var(--text-lg); margin-bottom: var(--space-sm);">The Solution</h3>
            <p style="margin-bottom: var(--space-md);">${t.solution}</p>
            <p style="font-family: var(--font-mono); font-size: var(--text-sm); color: var(--burnt-orange); margin-top: var(--space-lg);">Outcome: ${t.outcome}</p>
        `,Modal.open())}};document.addEventListener("DOMContentLoaded",()=>{App.init()}),window.addEventListener("unload",()=>{App._intervals.forEach(e=>clearInterval(e))}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(e=>{e.update()}).catch(e=>{typeof WhiteRabbit<"u"&&WhiteRabbit.hop("SW registration failed",e.message)})});
